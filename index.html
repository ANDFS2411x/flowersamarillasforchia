<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover,user-scalable=no"/>
  <title>Primavera Amarilla — Para Ti</title>
  <meta name="description" content="Un jardín de primavera con cerámica, flores amarillas, un corazón y una promesa.">
  <style>
    :root{
      --bg1:#0b1020; --bg2:#121a2a;
      --gold:#e9c46a; --white:#f6f7fb;
      --leaf:#98c379;
      --petal:#ffeb3b; --petal-2:#ffd54f;
    }
    *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
    html,body{height:100%}
    body{
      margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;
      color:var(--white);
      background: radial-gradient(1200px 800px at 20% 10%, #182338 0%, var(--bg2) 30%, var(--bg1) 65%);
      overflow:hidden;
    }

    /* Loader */
    .loader{position:fixed;inset:0;display:grid;place-items:center;gap:18px;background:linear-gradient(135deg,#0b1020,#0e1630);z-index:9999;transition:opacity .8s ease}
    .ring{width:88px;height:88px;border-radius:50%;border:3px solid transparent;border-top-color:var(--gold);animation:spin 1s linear infinite;filter:drop-shadow(0 0 10px rgba(233,196,106,.8))}
    .txt{opacity:.9;letter-spacing:.4px}
    @keyframes spin{to{transform:rotate(360deg)}}

    /* Layers */
    .stars,.petals{position:absolute;inset:0;pointer-events:none}
    .star{position:absolute;width:2px;height:2px;border-radius:50%;background:#fff8;box-shadow:0 0 8px #fff8;animation:twinkle 3s ease-in-out infinite}
    @keyframes twinkle{0%,100%{transform:scale(.8);opacity:.5}50%{transform:scale(1.6);opacity:1}}

    /* HUD */
    .hud{position:fixed;inset:0;display:flex;flex-direction:column;justify-content:space-between;padding:clamp(12px,2.5vw,22px);pointer-events:none}
    .row{display:flex;gap:10px;align-items:center}
    .badge{pointer-events:auto;background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.05));border:1px solid rgba(255,255,255,.15);padding:8px 12px;border-radius:12px;backdrop-filter:blur(8px);box-shadow:0 6px 24px rgba(0,0,0,.28)}
    .right{margin-left:auto}
    .btn{pointer-events:auto;border:0;border-radius:12px;padding:10px 12px;background:linear-gradient(180deg,#1c2536,#141c2a);color:#eaf2ff;font-weight:700;letter-spacing:.3px;cursor:pointer;border:1px solid #2a3850;box-shadow:0 10px 30px rgba(0,0,0,.35);transition:transform .15s ease}
    .btn:active{transform:scale(.98)}
    .eq{display:flex;gap:3px;align-items:flex-end;height:14px;width:24px;margin-left:8px}
    .bar{width:4px;background:#9ad29e;border-radius:2px;height:4px;opacity:.8;animation:bar 1s linear infinite}
    .bar:nth-child(2){animation-delay:.15s}.bar:nth-child(3){animation-delay:.3s}
    @keyframes bar{0%,100%{height:4px}50%{height:14px}}
    .portal{position:absolute;left:50%;bottom:8vh;transform:translateX(-50%);pointer-events:auto;border:1px solid rgba(156,204,101,.75);background:linear-gradient(180deg,rgba(156,204,101,.18),rgba(139,195,74,.25));color:#dff5df;padding:12px 18px;border-radius:30px;font-weight:800;letter-spacing:.4px;backdrop-filter:blur(10px);box-shadow:0 10px 30px rgba(0,0,0,.35),0 0 34px rgba(156,204,101,.45)}
    .portal:active{transform:translateX(-50%) scale(.98)}
    .portalGlow{position:absolute;left:50%;bottom:8vh;width:0;height:0;pointer-events:none;filter:blur(30px);opacity:.45}

    /* Scene */
    .scene{position:relative;width:100%;height:100%}
    .leftCol,.rightCol{position:absolute;top:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center}
    .leftCol{left:0;width:min(120px,18vw);gap:20px;padding-left:8px}
    .rightCol{right:0;width:min(130px,20vw);gap:18px;padding-right:8px}

    .ceramic{width:min(84px,16vw);height:min(108px,20vw);border-radius:18px 18px 28px 28px;background:linear-gradient(135deg,#a97452,#6d4b3a 50%,#4e382c);box-shadow:inset 0 0 20px rgba(0,0,0,.35),0 12px 30px rgba(0,0,0,.35);position:relative;cursor:pointer;transition:transform .25s ease,filter .25s ease}
    .ceramic:hover{transform:translateY(-4px);filter:brightness(1.05)}
    .ceramic::after{content:"";position:absolute;inset:14% 10% auto 10%;height:22%;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,.35),transparent);filter:blur(1px);opacity:.6}
    .cup{border-radius:12px 12px 22px 22px}
    .cup::before{content:"";position:absolute;right:-12px;top:28%;width:16px;height:34%;border:3px solid #5b4536;border-left:none;border-radius:0 10px 10px 0}

    .center{position:absolute;inset:0;display:grid;place-items:center;padding-bottom:8vh}
    .wheelWrap{width:min(70vmin,480px);aspect-ratio:1/1;display:grid;place-items:center;perspective:1200px}
    .wheel{width:76%;aspect-ratio:1/1;border-radius:50%;background:radial-gradient(circle at 30% 30%,#d2a36d 0%,#8d6e63 42%,#5d4e37 72%,#3e2723 100%);box-shadow:0 24px 60px rgba(141,110,99,.55),inset 0 0 26px rgba(0,0,0,.38);animation:slowspin 22s linear infinite;position:relative;cursor:grab;border:2px solid rgba(255,255,255,.06);user-select:none;touch-action:none}
    .wheel:active{cursor:grabbing}
    @keyframes slowspin{to{transform:rotate(360deg)}}
    .clay{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:46%;height:46%;background:linear-gradient(145deg,#f1a261,#e67951 40%,#d39a6a 100%);box-shadow:0 8px 24px rgba(230,121,81,.55);transition:filter .3s ease}
    .kilnHint{position:absolute;bottom:-52px;left:50%;transform:translateX(-50%);font-size:.9rem;opacity:.7}

    /* Vase (kintsugi) */
    .vase{position:absolute;inset:0;display:none;place-items:center}
    .vaseSVG{width:40%;max-width:240px;filter:drop-shadow(0 10px 36px rgba(0,0,0,.45))}
    .crack{stroke:var(--gold);stroke-width:3;fill:none;stroke-linecap:round;stroke-linejoin:round;filter:drop-shadow(0 0 8px rgba(233,196,106,.65));stroke-dasharray:320;stroke-dashoffset:320;animation:draw 1.8s ease forwards .4s}
    @keyframes draw{to{stroke-dashoffset:0}}

    /* Matcha */
    .matcha{width:min(120px,22vw);aspect-ratio:1/1;border-radius:50%;background:radial-gradient(ellipse at 44% 18%,#e8f5e8,#c8e6c9 35%,#8bc34a 65%,#689f38 100%);box-shadow:inset 0 0 24px rgba(0,0,0,.28),0 14px 36px rgba(139,195,74,.6),0 0 70px rgba(139,195,74,.35);position:relative;cursor:pointer;transition:transform .25s ease}
    .matcha:hover{transform:scale(1.03)}
    .foam{position:absolute;inset:10%;border-radius:50%;background:radial-gradient(circle at 30% 20%,rgba(255,255,255,.85),rgba(255,255,255,.5) 48%,rgba(255,255,255,.18) 70%);animation:swirl 12s ease-in-out infinite}
    @keyframes swirl{0%,100%{transform:rotate(0) scale(1);opacity:.9}50%{transform:rotate(180deg) scale(1.05);opacity:.75}}

    /* Petals */
    .petal{position:absolute;width:14px;height:24px;border-radius:10px 10px 2px 2px;transform-origin:center 80%;background:radial-gradient(circle at 30% 30%,#fff59d,var(--petal) 60%,var(--petal-2) 100%);box-shadow:0 0 10px #ffd95b55;animation:fall linear forwards}
    @keyframes fall{0%{opacity:0;transform:translateY(-10vh) rotate(0deg)}8%{opacity:1}100%{transform:translateY(110vh) rotate(360deg);opacity:0}}

    /* Modal */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,.88);display:none;align-items:center;justify-content:center;backdrop-filter:blur(10px);z-index:30}
    .card{width:min(780px,92vw);max-height:84vh;overflow:auto;background:linear-gradient(135deg,rgba(255,255,255,.96),rgba(245,248,252,.95));color:#2d3b2f;border-radius:22px;padding:clamp(20px,4vw,36px);position:relative;border:1px solid rgba(156,204,101,.35);box-shadow:0 30px 80px rgba(0,0,0,.45)}
    .close{position:absolute;right:14px;top:10px;width:40px;height:40px;border-radius:50%;display:grid;place-items:center;font-size:22px;color:#344;cursor:pointer;user-select:none;transition:transform .15s ease,background .15s ease}
    .close:active{transform:scale(1.05);background:#0000000f}
    h1{margin:0 0 12px;font-size:clamp(20px,5vw,30px);color:#1f3a22}
    p{line-height:1.65;font-size:clamp(15px,3.8vw,18px);color:#35543c}
    .sig{margin-top:18px;font-style:italic;text-align:right;color:#2c4a30}

    /* Mobile */
    @media (max-width:880px){.leftCol,.rightCol{width:min(92px,18vw)}.kilnHint{font-size:.8rem;bottom:-44px}}
    @media (prefers-reduced-motion:reduce){.wheel{animation:none}.bar,.foam,.star{animation:none}.petal{animation-duration:0s}}
  </style>
</head>
<body>
  <!-- Loader -->
  <div class="loader" id="loader">
    <div class="ring"></div>
    <div class="txt">Cargando tu primavera amarilla…</div>
  </div>

  <!-- Layers -->
  <div class="stars" id="stars"></div>
  <div class="petals" id="petals"></div>

  <!-- HUD -->
  <div class="hud">
    <div class="row">
      <div class="badge">Consejo: mantén presionado la rueda para moldear (se convierte en corazón). Doble toque para “hornear”.</div>
      <div class="right row">
        <button class="btn" id="playBtn" title="Reproducir / pausar música">Música</button>
        <div class="eq" id="eq" aria-hidden="true" style="visibility:hidden"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
      </div>
    </div>
    <div class="row" style="justify-content:center;">
      <button class="portal" id="openMsg">Abrir mensaje</button>
      <canvas class="portalGlow" id="portalGlow"></canvas>
    </div>
  </div>

  <!-- Scene -->
  <main class="scene">
    <aside class="leftCol" aria-hidden="true">
      <div class="ceramic"></div>
      <div class="ceramic"></div>
      <div class="ceramic cup"></div>
    </aside>

    <section class="center" aria-label="Rueda de cerámica">
      <div class="wheelWrap">
        <div class="wheel" id="wheel">
          <div class="clay" id="clay"></div>
          <div class="kilnHint">Doble toque para hornear</div>
        </div>
        <div class="vase" id="vase">
          <svg class="vaseSVG" viewBox="0 0 200 300">
            <defs>
              <linearGradient id="cerBody" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="#b07a57"/><stop offset="55%" stop-color="#8a624c"/><stop offset="100%" stop-color="#604535"/>
              </linearGradient>
            </defs>
            <path d="M100 10 C90 30,70 40,70 70 C70 100,80 110,80 130 C80 165,60 190,60 220 C60 260,80 285,100 290 C120 285,140 260,140 220 C140 190,120 165,120 130 C120 110,130 100,130 70 C130 40,110 30,100 10 Z" fill="url(#cerBody)"/>
            <path class="crack" d="M100 30 L95 60 L110 90 L100 120"/>
            <path class="crack" d="M85 140 L95 170 L80 205"/>
            <path class="crack" d="M120 150 L115 185 L130 215"/>
          </svg>
        </div>
      </div>
    </section>

    <aside class="rightCol" aria-hidden="true">
      <div class="matcha" id="matcha"><div class="foam"></div></div>
    </aside>
  </main>

  <!-- Modal -->
  <section class="overlay" id="overlay" aria-modal="true" role="dialog" aria-labelledby="msgTitle">
    <article class="card">
      <div class="close" id="close">×</div>
      <h1 id="msgTitle">Primavera amarilla para ti</h1>
      <p>
        Hice este pequeño detalle para ti,como siempre lo hago en estos días.
        Cada luz que ves, cada pétalo y cada forma nació pensando en nosotros.
        No he estado a la altura, pero quiero pedir disculpas. Respeto tu dolor. Te amo, envié flores para ti con mucho amor.
        Algo que aprendi de la ceramica tuya es que moldeando con paciencia, aprendiendo de cada marca y embelleciendo cada grieta
        con cariño existen cosas hermosas que significan amor. Y yo debo aprender a ser así de cuidadoso y respetuoso con la mujer que la vida me ha dado la 
        suerte de conocer. Mereces todo lo mejor en el mundo. Soy un idiota con mi actitud. Respiro ahora mismo, pero deseo respirar a tu lado mejor. 
      </p>
      <p>
        Si alguna vez te fallé, hoy te prometo paciencia, cuidado y presencia.  Gracias por tu vida, por tu calma y por tu amor. Hoy y siempre tendrás tus flores amarillas.
      </p>
      <p class="sig">Con todo mi amor, — Andrés Fábregas.</p>
    </article>
  </section>

  <!-- Audio -->
  <audio id="player" preload="auto">
    <source src="cancion.mp3" type="audio/mpeg"/>
    <source src="https://raw.githubusercontent.com/ANDFS2411x/flowersamarillasforchia/main/ella%20sab%C3%ADa%20que%20%C3%A9l%20sab%C3%ADa%20que%20alg%C3%BAn%20d%C3%ADa%20pasar%C3%ADa.mp3" type="audio/mpeg"/>
  </audio>

  <script>
    /* ------- util ------- */
    const qs = s=>document.querySelector(s), qsa=s=>[...document.querySelectorAll(s)];
    const rand=(a,b)=>Math.random()*(b-a)+a, clamp=(n,a,b)=>Math.max(a,Math.min(b,n));
    const loader=qs('#loader'), stars=qs('#stars'), petals=qs('#petals');
    const wheel=qs('#wheel'), clay=qs('#clay'), vase=qs('#vase');
    const overlay=qs('#overlay'), closeBtn=qs('#close'), openMsg=qs('#openMsg');
    const playBtn=qs('#playBtn'), eq=qs('#eq'), player=qs('#player');
    const matcha=qs('#matcha'), portalGlow=qs('#portalGlow');

    /* ------- loader ------- */
    window.addEventListener('load',()=>{setTimeout(()=>{loader.style.opacity='0';setTimeout(()=>loader.remove(),800)},600)});

    /* ------- stars ------- */
    (function makeStars(){
      const c = innerWidth<768?80:140;
      for(let i=0;i<c;i++){
        const s=document.createElement('div');
        s.className='star'; s.style.left=Math.random()*100+'%'; s.style.top=Math.random()*100+'%';
        const size=Math.random()*2+1; s.style.width=s.style.height=size+'px';
        s.style.animationDuration=(2+Math.random()*2)+'s'; stars.appendChild(s);
      }
    })();

    /* ------- petals ------- */
    function dropPetals(n=24){
      for(let i=0;i<n;i++){
        const p=document.createElement('div'); p.className='petal';
        p.style.left=rand(-5,105)+'vw'; p.style.top=rand(-10,-2)+'vh';
        p.style.transform=`rotate(${rand(-30,30)}deg)`; p.style.animationDuration=rand(5,11)+'s'; p.style.opacity=0;
        petals.appendChild(p); setTimeout(()=>p.remove(),12000);
      }
    }
    setInterval(()=>Math.random()<.35 && dropPetals(8), 3000);

    /* ------- portal glow ------- */
    (function glow(){
      const c=portalGlow,ctx=c.getContext('2d'); const dpr=Math.min(2,devicePixelRatio||1);
      function resize(){const w=Math.min(260,innerWidth*.5); c.width=w*dpr;c.height=56*dpr;c.style.width=w+'px';c.style.height='56px'}
      resize(); addEventListener('resize',resize); let t=0;
      (function loop(){t+=.04;ctx.clearRect(0,0,c.width,c.height);
        const g=ctx.createLinearGradient(0,0,c.width,0); g.addColorStop(0,'rgba(255,235,59,.0)'); g.addColorStop(.5,'rgba(255,235,59,.35)'); g.addColorStop(1,'rgba(255,235,59,.0)');
        ctx.fillStyle=g; const h=(Math.sin(t)*.5+.5)*10+8; ctx.fillRect(0,(c.height/dpr-h)/2*dpr,c.width,h*dpr);
        requestAnimationFrame(loop);
      })();
    })();

    /* ------- audio ------- */
    let interacted=false;
    function toggleAudio(){ if(player.paused){player.play().catch(()=>{});} else {player.pause();} }
    playBtn.addEventListener('click',()=>{interacted=true;toggleAudio();});
    addEventListener('pointerdown',()=>{ if(!interacted){interacted=true; player.play().catch(()=>{});} },{once:true});
    player.addEventListener('play',()=>{eq.style.visibility='visible'; playBtn.textContent='Pausar';});
    player.addEventListener('pause',()=>{eq.style.visibility='hidden'; playBtn.textContent='Música';});

    /* ------- modal ------- */
    openMsg.addEventListener('click',()=>{overlay.style.display='flex'; dropPetals(36);});
    closeBtn.addEventListener('click',()=>overlay.style.display='none');
    addEventListener('keydown',e=>{if(e.key==='Escape') overlay.style.display='none'});

    /* ------- matcha ripples ------- */
    matcha.addEventListener('click',()=>{
      const r=matcha.getBoundingClientRect(), cx=r.left+r.width/2, cy=r.top+r.height/2;
      for(let i=0;i<5;i++){
        setTimeout(()=>{
          const w=document.createElement('div'); Object.assign(w.style,{
            position:'fixed',left:cx+'px',top:cy+'px',width:'12px',height:'12px',border:'3px solid rgba(156,204,101,.75)',
            borderRadius:'50%',transform:'translate(-50%,-50%)',pointerEvents:'none',zIndex:5
          });
          document.body.appendChild(w);
          w.animate([{transform:'translate(-50%,-50%) scale(0)',opacity:.9},{transform:'translate(-50%,-50%) scale(10)',opacity:0}],{duration:1600,easing:'ease-out'});
          setTimeout(()=>w.remove(),1700);
        },i*120);
      }
    });

    /* ==========================================================
       CLAY MORPH: ÓVALO → CORAZÓN con clip-path poligonal
       ========================================================== */
    const N = 64; // número de puntos de la malla
    let circlePoly = [], heartPoly = [];

    function sampleCircle(n){
      const arr=[];
      for(let i=0;i<n;i++){
        const t = (i/n)*Math.PI*2;
        const x = Math.cos(t), y = Math.sin(t);
        arr.push([x,y]);
      }
      return normalize(arr);
    }

    // Corazón paramétrico clásico
    function sampleHeart(n){
      const arr=[];
      for(let i=0;i<n;i++){
        const t = (i/n)*Math.PI*2;
        const x = 16*Math.sin(t)**3;
        const y = 13*Math.cos(t) - 5*Math.cos(2*t) - 2*Math.cos(3*t) - Math.cos(4*t);
        arr.push([x,y]);
      }
      return normalize(arr);
    }

    // Normaliza a caja [0..100]x[0..100], centrado
    function normalize(points){
      let minX=Infinity,maxX=-Infinity,minY=Infinity,maxY=-Infinity;
      for(const [x,y] of points){ if(x<minX)minX=x;if(x>maxX)maxX=x;if(y<minY)minY=y;if(y>maxY)maxY=y; }
      const w=maxX-minX, h=maxY-minY;
      return points.map(([x,y])=>{
        const nx = ((x-minX)/w)*100;
        const ny = ((y-minY)/h)*100;
        // invertimos Y para coord CSS (top hacia abajo)
        return [nx, 100-ny];
      });
    }

    function lerpPoly(a,b,t){
      const out=[];
      for(let i=0;i<a.length;i++){
        out.push([ a[i][0]*(1-t)+b[i][0]*t, a[i][1]*(1-t)+b[i][1]*t ]);
      }
      return out;
    }

    function polyToClip(poly){
      return 'polygon(' + poly.map(p=>p[0].toFixed(2)+'% '+p[1].toFixed(2)+'%').join(',') + ')';
    }

    function initPolys(){
      circlePoly = sampleCircle(N);   // base “óvalo” (círculo)
      heartPoly  = sampleHeart(N);    // corazón
      // hacemos el círculo un poco más “ollita”: estiramos en Y
      circlePoly = circlePoly.map(([x,y])=>{
        const cy=50; const k=1.15; // estirar ligeramente
        return [x, (y- cy)*k + cy];
      });
      // aplicar forma inicial
      setClayShape(0);
    }

    function setClayShape(t){
      // t: 0 → círculo / 1 → corazón
      const poly = lerpPoly(circlePoly, heartPoly, clamp(t,0,1));
      const clip = polyToClip(poly);
      clay.style.clipPath = clip;
      clay.style.webkitClipPath = clip;
      // pequeña variación de color/iluminación
      clay.style.filter = `brightness(${1 - t*0.12}) saturate(${1 + t*0.18})`;
    }

    initPolys();

    /* ------- wheel interactions ------- */
    let spinning=false,lastAngle=0,inertia=0,rafId=0;
    let shaping=0; // 0..1
    let pressTimer=null,lastTap=0;

    function angleFromCenter(x,y){
      const r=wheel.getBoundingClientRect();
      const cx=r.left+r.width/2, cy=r.top+r.height/2;
      return Math.atan2(y-cy,x-cx);
    }

    function onPointerDown(e){
      spinning=true; wheel.setPointerCapture(e.pointerId);
      lastAngle=angleFromCenter(e.clientX,e.clientY);
      wheel.style.animation='none';
      clearInterval(pressTimer);
      // “moldear” con long-press: subimos hacia el corazón
      pressTimer=setInterval(()=>{
        shaping = clamp(shaping + 0.02, 0, 1);
        setClayShape(shaping);
      },60);

      // doble toque = hornear
      const now=Date.now();
      if(now-lastTap<300){
        dropPetals(50);
        overlay.style.display='flex';
      }
      lastTap=now;
    }
    function onPointerMove(e){
      if(!spinning) return;
      const a=angleFromCenter(e.clientX,e.clientY), d=a-lastAngle; lastAngle=a;
      inertia = clamp(inertia + d*0.12, -0.35, 0.35);
      wheel.style.transform=`rotate(${inertia*120}deg)`;
    }
    function onPointerUp(e){
      spinning=false; wheel.releasePointerCapture(e.pointerId);
      clearInterval(pressTimer);
      // inercia suave
      const start=performance.now(), ini=inertia;
      cancelAnimationFrame(rafId);
      (function coast(){
        const t=(performance.now()-start)/1000, k=Math.max(0,1-t*1.8), cur=ini*k;
        wheel.style.transform=`rotate(${cur*120}deg)`;
        if(k>0.02) rafId=requestAnimationFrame(coast);
      })();
    }
    wheel.addEventListener('pointerdown',onPointerDown);
    addEventListener('pointermove',onPointerMove);
    addEventListener('pointerup',onPointerUp);

    /* ------- ceramics left: solo feedback ------- */
    qsa('.ceramic').forEach(el=>{
      el.addEventListener('click',()=>{
        const r=el.getBoundingClientRect(); burst(r.left+r.width/2,r.top+r.height/2,14); dropPetals(14);
      });
    });
    function burst(x,y,n=12){
      for(let i=0;i<n;i++){
        const s=document.createElement('div');
        Object.assign(s.style,{position:'fixed',left:x+'px',top:y+'px',width:'6px',height:'6px',borderRadius:'50%',background:'radial-gradient(circle,#fff,#ffe07a)',boxShadow:'0 0 12px #ffe07a88',pointerEvents:'none',zIndex:6});
        document.body.appendChild(s);
        const ang=(i/n)*Math.PI*2, dist=rand(70,140);
        s.animate([{transform:'translate(-50%,-50%) scale(0)',opacity:1},{transform:`translate(${Math.cos(ang)*dist}px,${Math.sin(ang)*dist}px) scale(1.4)`,opacity:0}],{duration:900,easing:'cubic-bezier(.2,.7,.2,1)'});
        setTimeout(()=>s.remove(),950);
      }
    }

    /* ------- initial petals ------- */
    setTimeout(()=>dropPetals(28),1200);

  </script>
</body>
</html>
